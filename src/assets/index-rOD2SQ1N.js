import{f as H,u as Se,I as ne,J as ce,K as Te,_ as D,x as ye,n as q,i as Q,l as ge,S as _e,j as re,M as tt,N as Be,b as Oe,L as te,O as ot,P as lt,w as We,Q as Le,g as Fe,R as nt,T as xe,r as Ke,B as De,U as at,h as st,V as je,W as rt,X as ut}from"./index-Ch2xGh_u.js";import{u as Me,t as F}from"./terminal-tE8xIOWp.js";import{B as A,C as R,D as c,U as $,O as x,u as e,F as ae,V as w,I as p,$ as E,a9 as O,Y as K,X as se,P as s,H as l,G as m,z as ct,a as j,l as Re,o as Y,a0 as de,N as oe,a8 as ie,h as ze,ac as Ve,_ as W,ad as Xe,ae as it,a1 as Ye,n as le,a6 as ue,W as I,af as dt,Z as Pe,ag as Ne,ah as mt,ai as $e,aj as Ze,ab as ft,w as pt,ak as _t,p as Ee}from"./vue-opd7UYcs.js";import{_ as vt,D as yt}from"./darkSwitch-CT_KrVKc.js";import{c as gt,g as J,o as He,a as Ie,r as ve,s as bt,b as ht}from"./router-ZWp3qwlM.js";import{I as Ct}from"./index-CVqxjh9c.js";import{t as kt}from"./useDark-BfNxJ0t7.js";import{a as wt,i as xt}from"./index-CKlMVfmH.js";import{F as pe}from"./index-qsNMGeAX.js";import"./index-CtStWFRv.js";const Tt={class:"layout-logo"},St={key:0,class:"logo-img",src:vt,alt:"logo"},Bt=A({__name:"logo",setup(T){O(d=>({adf9ae48:e(t).layout.layoutMode!="Streamline"?e(t).getColorVal("menuTopBarBackground"):"transparent"}));const t=H(),o=Se(),r=function(){t.layout.shrink&&!t.layout.menuCollapse&&gt(),t.setLayout("menuCollapse",!t.layout.menuCollapse),ne.set(ce,{layoutMode:t.layout.layoutMode,menuCollapse:t.layout.menuCollapse}),setTimeout(()=>{Te()},350)};return(d,a)=>{const g=p("Icon");return c(),R("div",Tt,[e(t).layout.menuCollapse?$("",!0):(c(),R("img",St)),e(t).layout.menuCollapse?$("",!0):(c(),R("div",{key:1,style:ae({color:e(t).getColorVal("menuActiveColor")}),class:"website-name"},w(e(o).siteName),5)),e(t).layout.layoutMode!="Streamline"?(c(),x(g,{key:2,onClick:r,name:e(t).layout.menuCollapse?"fa fa-indent":"fa fa-dedent",class:E([e(t).layout.menuCollapse?"unfold":"","fold"]),color:e(t).getColorVal("menuActiveColor"),size:"18"},null,8,["name","class","color"])):$("",!0)])}}}),Ge=D(Bt,[["__scopeId","data-v-38fd2478"]]),Mt=A({__name:"menuTree",props:{menus:{default:()=>[]},extends:{default:()=>({level:1})}},setup(T){O(a=>({"3bb89117":e(o).getColorVal("menuActiveBackground")}));const{t}=ye.useI18n(),o=H(),r=T,d=a=>{var g,f;if(((g=r.extends)==null?void 0:g.position)=="horizontal"&&r.extends.level<=1&&((f=a.children)!=null&&f.length)){const i=Ie(a.children);i?He(i):ct({type:"error",message:t("utils.No child menu to jump to!")})}};return(a,g)=>{const f=p("Icon"),i=p("MenuTree",!0),v=p("el-sub-menu"),b=p("el-menu-item");return c(!0),R(K,null,se(r.menus,u=>(c(),R(K,null,[u.children&&u.children.length>0?(c(),x(v,{onClick:n=>d(u),index:e(J)(u),key:e(J)(u)},{title:s(()=>{var n,y,B,_;return[l(f,{color:e(o).getColorVal("menuColor"),name:(n=u.meta)!=null&&n.icon?(y=u.meta)==null?void 0:y.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),m("span",null,w((B=u.meta)!=null&&B.title?(_=u.meta)==null?void 0:_.title:a.$t("noTitle")),1)]}),default:s(()=>[l(i,{extends:{...r.extends,level:r.extends.level+1},menus:u.children},null,8,["extends","menus"])]),_:2},1032,["onClick","index"])):(c(),x(b,{onClick:n=>e(He)(u),index:e(J)(u),key:e(J)(u)},{default:s(()=>{var n,y,B,_;return[l(f,{color:e(o).getColorVal("menuColor"),name:(n=u.meta)!=null&&n.icon?(y=u.meta)==null?void 0:y.icon:e(o).layout.menuDefaultIcon},null,8,["color","name"]),m("span",null,w((B=u.meta)!=null&&B.title?(_=u.meta)==null?void 0:_.title:a.$t("noTitle")),1)]}),_:2},1032,["onClick","index"]))],64))),256)}}}),be=D(Mt,[["__scopeId","data-v-d25a0319"]]),Rt=A({__name:"menuVertical",setup(T){O(i=>({d753e0ae:a.value,"5bf275a0":e(t).getColorVal("menuBackground"),"6edfe262":e(t).getColorVal("menuColor"),"5c05d5ae":e(t).getColorVal("menuActiveColor")}));const t=H(),o=q(),r=oe(),d=j({defaultActive:""}),a=Re(()=>{let i=0;return t.layout.menuShowTopBar&&(i=50),t.layout.layoutMode=="Default"?"calc(100vh - "+(32+i)+"px)":"calc(100vh - "+i+"px)"}),g=i=>{const v=o.getTabsViewDataByRoute(i);v&&(d.defaultActive=J(v,v.meta.matched))},f=()=>{setTimeout(()=>{var v;let i=document.querySelector(".el-menu.layouts-menu-vertical li.is-active");i&&((v=Q.value)==null||v.setScrollTop(i.offsetTop))},500)};return Y(()=>{g(r),f()}),de(i=>{g(i)}),(i,v)=>{const b=p("el-menu"),u=p("el-scrollbar");return c(),x(u,{ref_key:"layoutMenuScrollbarRef",ref:Q,class:"vertical-menus-scrollbar"},{default:s(()=>[l(b,{class:"layouts-menu-vertical","collapse-transition":!1,"unique-opened":e(t).layout.menuUniqueOpened,"default-active":d.defaultActive,collapse:e(t).layout.menuCollapse,ref_key:"layoutMenuRef",ref:ge},{default:s(()=>[l(be,{menus:e(o).state.tabsViewRoutes},null,8,["menus"])]),_:1},8,["unique-opened","default-active","collapse"])]),_:1},512)}}}),Vt=A({__name:"menuVerticalChildren",setup(T){O(v=>({c0bf70ee:g.value,"630b1d10":e(t).getColorVal("menuBackground"),cb276a22:e(t).getColorVal("menuColor"),"6183b949":e(t).getColorVal("menuActiveColor")}));const t=H(),o=q(),r=oe(),d=ie("layoutMenuScrollbarRef"),a=j({defaultActive:"",routeChildren:[]}),g=Re(()=>{let v=0;return t.layout.menuShowTopBar&&(v=50),t.layout.layoutMode=="Default"?"calc(100vh - "+(32+v)+"px)":"calc(100vh - "+v+"px)"}),f=v=>{const b=o.getTabsViewDataByRoute(v);b&&(a.defaultActive=J(b,b.meta.matched));let u=o.getTabsViewDataByRoute(v,"above");u?u.children&&u.children.length>0?a.routeChildren=u.children:a.routeChildren=[u]:a.routeChildren||(a.routeChildren=o.state.tabsViewRoutes)},i=()=>{setTimeout(()=>{var b;let v=document.querySelector(".el-menu.layouts-menu-vertical-children li.is-active");v&&((b=d.value)==null||b.setScrollTop(v.offsetTop))},500)};return Y(()=>{f(r),i()}),de(v=>{f(v)}),(v,b)=>{const u=p("el-menu"),n=p("el-scrollbar");return c(),x(n,{ref_key:"layoutMenuScrollbarRef",ref:d,class:"children-vertical-menus-scrollbar"},{default:s(()=>[l(u,{class:"layouts-menu-vertical-children","collapse-transition":!1,"unique-opened":e(t).layout.menuUniqueOpened,"default-active":a.defaultActive,collapse:e(t).layout.menuCollapse,ref_key:"layoutMenuRef",ref:ge},{default:s(()=>[a.routeChildren.length>0?(c(),x(be,{key:0,menus:a.routeChildren},null,8,["menus"])):$("",!0)]),_:1},8,["unique-opened","default-active","collapse"])]),_:1},512)}}}),$t=A({name:"layout/aside",__name:"aside",setup(T){O(d=>({e1fe1608:r.value,"77a1f906":e(_e)}));const t=H(),o=q(),r=Re(()=>t.menuWidth());return(d,a)=>{const g=p("el-aside");return e(o).state.tabFullScreen?$("",!0):(c(),x(g,{key:0,class:E("layout-aside-"+e(t).layout.layoutMode+" "+(e(t).layout.shrink?"shrink":""))},{default:s(()=>[e(t).layout.menuShowTopBar?(c(),x(Ge,{key:0})):$("",!0),e(t).layout.layoutMode=="Double"?(c(),x(Vt,{key:1})):(c(),x(Rt,{key:2}))]),_:1},8,["class"]))}}}),Ae=D($t,[["__scopeId","data-v-f9e86dcd"]]);function Je(){if(!ze())throw new Error("useCurrentInstance() can only be used inside setup() or functional components!");const{appContext:T}=ze();return{proxy:T.config.globalProperties}}const It={class:"el-dropdown-menu"},At=["onClick"],Lt=A({__name:"index",props:{width:{default:150},items:{default:()=>[]}},emits:["menuClick","hideContextmenu"],setup(T,{expose:t,emit:o}){O(b=>({"5c84d21e":e(_e)}));const r=T,d=o,a=j({show:!1,axis:{x:0,y:0},sourceData:null,showArrow:!0,arrowAxis:10}),g={click:()=>{},scroll:()=>{},keydown:()=>{}},f=(b,u)=>{a.showArrow=!0,a.sourceData=b;const n=document.documentElement.clientHeight-u.y-(r.items.length*40+20),y=document.documentElement.clientWidth-u.x-(r.width+20);n<0&&(u.y+=n,a.showArrow=!1),y<0&&(u.x+=y,a.showArrow=!1),a.axis=u,a.show=!0,g.click=re(document,"click",i),g.scroll=re(document,"scroll",i),g.keydown=re(document,"keydown",B=>{B.key==="Escape"&&i()})},i=()=>{a.show=!1;for(const b in g)g[b]();d("hideContextmenu")},v=b=>{b.disabled||(b.sourceData=it(a.sourceData),d("menuClick",b))};return t({onShowContextmenu:f,onHideContextmenu:i}),(b,u)=>{const n=p("Icon");return c(),x(Ve,{name:"el-zoom-in-center"},{default:s(()=>[W((c(),R("div",{class:"el-popper is-pure is-light el-dropdown__popper ba-contextmenu",style:ae(`top: ${a.axis.y+5}px;left: ${a.axis.x-14}px;width:${r.width}px`),key:Math.random(),"aria-hidden":"false","data-popper-placement":"bottom"},[m("ul",It,[(c(!0),R(K,null,se(r.items,(y,B)=>(c(),R("li",{key:B,class:E(["el-dropdown-menu__item",y.disabled?"is-disabled":""]),tabindex:"-1",onClick:_=>v(y)},[l(n,{size:"12",name:y.icon},null,8,["name"]),m("span",null,w(y.label),1)],10,At))),128))]),a.showArrow?(c(),R("span",{key:0,class:"el-popper__arrow",style:ae({left:`${a.arrowAxis}px`})},null,4)):$("",!0)],4)),[[Xe,a.show]])]),_:1})}}}),Ft=D(Lt,[["__scopeId","data-v-dfe3b2ef"]]),Dt=["onClick","onContextmenu"],zt=A({__name:"tabs",setup(T,{expose:t}){O(h=>({"324bc03e":e(d).getColorVal("headerBarTabColor"),da32de8a:e(d).getColorVal("headerBarTabActiveColor"),"29dffebc":e(d).layout.layoutMode=="Default"?"none":e(d).getColorVal("headerBarBackground")}));const o=oe(),r=Ye(),d=H(),a=q(),{proxy:g}=Je(),f=tt(),i=ie("contextmenuRef"),v=ie("tabScrollbarRef"),b=j({contextmenuItems:[{name:"refresh",label:"重新加载",icon:"fa fa-refresh"},{name:"close",label:"关闭标签",icon:"fa fa-times"},{name:"fullScreen",label:"当前标签全屏",icon:"el-icon-FullScreen"},{name:"closeOther",label:"关闭其他标签",icon:"fa fa-minus"},{name:"closeAll",label:"关闭全部标签",icon:"fa fa-stop"}]}),u=j({width:"0",transform:"translateX(0px)"}),n=h=>{r.push(h.fullPath)},y=function(h){if(!h)return!1;if(u.width=h.clientWidth+"px",u.transform=`translateX(${h.offsetLeft}px)`,v.value){let M=h.offsetLeft+h.clientWidth-v.value.clientWidth;h.offsetLeft<v.value.scrollLeft?v.value.scrollTo(h.offsetLeft,0):M>v.value.scrollLeft&&v.value.scrollTo(M,0)}},B=()=>{const h=a.state.tabsView.slice(-1)[0];h?r.push(h.fullPath):r.push(Oe)},_=h=>{var M,S;a._closeTab(h),g.eventBus.emit("onTabViewClose",h),((M=a.state.activeRoute)==null?void 0:M.fullPath)===h.fullPath?B():(a._setActiveRoute(a.state.activeRoute),le(()=>{y(f.value[a.state.activeIndex])})),(S=i.value)==null||S.onHideContextmenu()},V=h=>{var M;a._closeTabs(h),a._setActiveRoute(h),((M=a.state.activeRoute)==null?void 0:M.fullPath)!==o.fullPath&&r.push(h.fullPath)},L=h=>{var S;let M=Ie(a.state.tabsViewRoutes);if(h&&M&&M.path==h.fullPath)return V(h);if(M&&M.path==((S=a.state.activeRoute)==null?void 0:S.fullPath))return V(a.state.activeRoute);a._closeTabs(!1),M&&ve(M.path)},Z=(h,M)=>{var C;b.contextmenuItems[0].disabled=o.fullPath!==h.fullPath,b.contextmenuItems[4].disabled=b.contextmenuItems[3].disabled=a.state.tabsView.length==1;const{clientX:S,clientY:z}=M;(C=i.value)==null||C.onShowContextmenu(h,{x:S,y:z})},P=h=>{const{name:M,sourceData:S}=h;if(S)switch(M){case"refresh":g.eventBus.emit("onTabViewRefresh",S);break;case"close":_(S);break;case"closeOther":V(S);break;case"closeAll":L(S);break;case"fullScreen":o.fullPath!==S.fullPath&&r.push(S.fullPath),a.setFullScreen(!0);break}},U=function(h){a._addTab(h),a._setActiveRoute(h),le(()=>{y(f.value[a.state.activeIndex])})};return de(async h=>{U(h)}),Y(()=>{U(r.currentRoute.value),v.value&&new Be(v.value)}),t({closeAllTab:L,closeTabByPath:h=>{for(const M in a.state.tabsView)if(a.state.tabsView[M].fullPath==h){_(a.state.tabsView[M]);break}},updateTabTitle:(h,M)=>{a._updateTabTitle(h,M),le(()=>{y(f.value[a.state.activeIndex])})}}),(h,M)=>{const S=p("Icon");return c(),R("div",{class:"nav-tabs",ref_key:"tabScrollbarRef",ref:v},[(c(!0),R(K,null,se(e(a).state.tabsView,(z,C)=>(c(),R("div",{onClick:k=>n(z),onContextmenu:ue(k=>Z(z,k),["prevent"]),class:E(["ba-nav-tab",e(a).state.activeIndex==C?"active":""]),ref_for:!0,ref:e(f).set,key:C},[I(w(z.meta.title)+" ",1),l(Ve,{onAfterLeave:M[0]||(M[0]=k=>y(e(f)[e(a).state.activeIndex])),name:"el-fade-in"},{default:s(()=>[W(l(S,{class:"close-icon",onClick:ue(k=>_(z),["stop"]),size:"15",name:"el-icon-Close"},null,8,["onClick"]),[[Xe,e(a).state.tabsView.length>1]])]),_:2},1024)],42,Dt))),128)),m("div",{style:ae(u),class:"nav-tabs-active-box"},null,4),l(Ft,{ref_key:"contextmenuRef",ref:i,items:b.contextmenuItems,onMenuClick:P},null,8,["items"])],512)}}}),Qe=D(zt,[["__scopeId","data-v-e50bae95"]]),qe=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],X=(()=>{if(typeof document>"u")return!1;const T=qe[0],t={};for(const o of qe)if((o==null?void 0:o[1])in document){for(const[d,a]of o.entries())t[T[d]]=a;return t}return!1})(),Ue={change:X.fullscreenchange,error:X.fullscreenerror};let N={request(T=document.documentElement,t){return new Promise((o,r)=>{const d=()=>{N.off("change",d),o()};N.on("change",d);const a=T[X.requestFullscreen](t);a instanceof Promise&&a.then(d).catch(r)})},exit(){return new Promise((T,t)=>{if(!N.isFullscreen){T();return}const o=()=>{N.off("change",o),T()};N.on("change",o);const r=document[X.exitFullscreen]();r instanceof Promise&&r.then(o).catch(t)})},toggle(T,t){return N.isFullscreen?N.exit():N.request(T,t)},onchange(T){N.on("change",T)},onerror(T){N.on("error",T)},on(T,t){const o=Ue[T];o&&document.addEventListener(o,t,!1)},off(T,t){const o=Ue[T];o&&document.removeEventListener(o,t,!1)},raw:X};Object.defineProperties(N,{isFullscreen:{get:()=>!!document[X.fullscreenElement]},element:{enumerable:!0,get:()=>document[X.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[X.fullscreenEnabled]}});X||(N={isEnabled:!1});const Pt={class:"layout-config-drawer"},Nt={class:"layout-mode-styles-box"},Et={class:"layout-mode-box-style"},Ht={class:"layout-mode-style-name"},qt={class:"layout-mode-style-name"},Ut={class:"layout-mode-style-name"},Ot={class:"layout-mode-style-name"},Wt={class:"layout-config-global"},Kt={class:"layout-config-aside"},jt={class:"layout-config-aside"},Xt={class:"ba-center"},Yt=A({__name:"config",setup(T){const{t}=ye.useI18n(),o=H(),r=q(),d=Ye(),a=(u,n)=>{o.setLayout(n,u)},g=(u,n)=>{if(u===null)return;const y=o.layout[n];o.layout.isDark?y[1]=u:y[0]=u,o.setLayout(n,y)},f=u=>{ne.set(ce,{layoutMode:u,menuCollapse:o.layout.menuCollapse}),o.setLayoutMode(u)},i=(u,n)=>{o.setLayout(n,u);const y=r.state.tabsViewRoutes;r.setTabsViewRoutes([]),le(()=>{r.setTabsViewRoutes(y)})},v=()=>{o.setLayout("showDrawer",!1)},b=()=>{te.remove(ot),ne.remove(ce),d.go(0)};return(u,n)=>{const y=p("el-divider"),B=p("el-col"),_=p("el-row"),V=p("el-form-item"),L=p("el-option"),Z=p("el-select"),P=p("el-color-picker"),U=p("el-switch"),G=p("el-input"),ee=p("el-button"),h=p("el-popconfirm"),M=p("el-form"),S=p("el-scrollbar"),z=p("el-drawer");return c(),R("div",Pt,[l(z,{"model-value":e(o).layout.showDrawer,title:e(t)("layouts.Layout configuration"),size:"310px",onClose:v},{default:s(()=>[l(S,{class:"layout-mode-style-scrollbar"},{default:s(()=>[l(M,{model:e(o).layout},{default:s(()=>[m("div",Nt,[l(y,{"border-style":"dashed"},{default:s(()=>[I(w(e(t)("layouts.Layout mode")),1)]),_:1}),m("div",Et,[l(_,{class:"layout-mode-box-style-row",gutter:10},{default:s(()=>[l(B,{span:12},{default:s(()=>[m("div",{onClick:n[0]||(n[0]=C=>f("Default")),class:E(["layout-mode-style default",e(o).layout.layoutMode=="Default"?"active":""])},[n[21]||(n[21]=m("div",{class:"layout-mode-style-box"},[m("div",{class:"layout-mode-style-aside"}),m("div",{class:"layout-mode-style-container-box"},[m("div",{class:"layout-mode-style-header"}),m("div",{class:"layout-mode-style-container"})])],-1)),m("div",Ht,w(e(t)("layouts.default")),1)],2)]),_:1}),l(B,{span:12},{default:s(()=>[m("div",{onClick:n[1]||(n[1]=C=>f("Classic")),class:E(["layout-mode-style classic",e(o).layout.layoutMode=="Classic"?"active":""])},[n[22]||(n[22]=m("div",{class:"layout-mode-style-box"},[m("div",{class:"layout-mode-style-aside"}),m("div",{class:"layout-mode-style-container-box"},[m("div",{class:"layout-mode-style-header"}),m("div",{class:"layout-mode-style-container"})])],-1)),m("div",qt,w(e(t)("layouts.classic")),1)],2)]),_:1})]),_:1}),l(_,{gutter:10},{default:s(()=>[l(B,{span:12},{default:s(()=>[m("div",{onClick:n[2]||(n[2]=C=>f("Streamline")),class:E(["layout-mode-style streamline",e(o).layout.layoutMode=="Streamline"?"active":""])},[n[23]||(n[23]=m("div",{class:"layout-mode-style-box"},[m("div",{class:"layout-mode-style-container-box"},[m("div",{class:"layout-mode-style-header"}),m("div",{class:"layout-mode-style-container"})])],-1)),m("div",Ut,w(e(t)("layouts.Single column")),1)],2)]),_:1}),l(B,{span:12},{default:s(()=>[m("div",{onClick:n[3]||(n[3]=C=>f("Double")),class:E(["layout-mode-style double",e(o).layout.layoutMode=="Double"?"active":""])},[n[24]||(n[24]=m("div",{class:"layout-mode-style-box"},[m("div",{class:"layout-mode-style-aside"}),m("div",{class:"layout-mode-style-container-box"},[m("div",{class:"layout-mode-style-header"}),m("div",{class:"layout-mode-style-container"})])],-1)),m("div",Ot,w(e(t)("layouts.Double column")),1)],2)]),_:1})]),_:1})]),l(y,{"border-style":"dashed"},{default:s(()=>[I(w(e(t)("layouts.overall situation")),1)]),_:1}),m("div",Wt,[l(V,{size:"large",label:e(t)("layouts.Dark mode")},{default:s(()=>[l(yt,{onClick:n[4]||(n[4]=C=>e(kt)())})]),_:1},8,["label"]),l(V,{label:e(t)("layouts.Background page switching animation")},{default:s(()=>[l(Z,{onChange:n[5]||(n[5]=C=>a(C,"mainAnimation")),"model-value":e(o).layout.mainAnimation,placeholder:e(t)("layouts.Please select an animation name")},{default:s(()=>[l(L,{label:"slide-right",value:"slide-right"}),l(L,{label:"slide-left",value:"slide-left"}),l(L,{label:"el-fade-in-linear",value:"el-fade-in-linear"}),l(L,{label:"el-fade-in",value:"el-fade-in"}),l(L,{label:"el-zoom-in-center",value:"el-zoom-in-center"}),l(L,{label:"el-zoom-in-top",value:"el-zoom-in-top"}),l(L,{label:"el-zoom-in-bottom",value:"el-zoom-in-bottom"})]),_:1},8,["model-value","placeholder"])]),_:1},8,["label"])]),l(y,{"border-style":"dashed"},{default:s(()=>[I(w(e(t)("layouts.sidebar")),1)]),_:1}),m("div",Kt,[l(V,{label:e(t)("layouts.Side menu bar background color")},{default:s(()=>[l(P,{onChange:n[6]||(n[6]=C=>g(C,"menuBackground")),"model-value":e(o).getColorVal("menuBackground")},null,8,["model-value"])]),_:1},8,["label"]),l(V,{label:e(t)("layouts.Side menu text color")},{default:s(()=>[l(P,{onChange:n[7]||(n[7]=C=>g(C,"menuColor")),"model-value":e(o).getColorVal("menuColor")},null,8,["model-value"])]),_:1},8,["label"]),l(V,{label:e(t)("layouts.Side menu active item background color")},{default:s(()=>[l(P,{onChange:n[8]||(n[8]=C=>g(C,"menuActiveBackground")),"model-value":e(o).getColorVal("menuActiveBackground")},null,8,["model-value"])]),_:1},8,["label"]),l(V,{label:e(t)("layouts.Side menu active item text color")},{default:s(()=>[l(P,{onChange:n[9]||(n[9]=C=>g(C,"menuActiveColor")),"model-value":e(o).getColorVal("menuActiveColor")},null,8,["model-value"])]),_:1},8,["label"]),l(V,{label:e(t)("layouts.Show side menu top bar (logo bar)")},{default:s(()=>[l(U,{onChange:n[10]||(n[10]=C=>a(C,"menuShowTopBar")),"model-value":e(o).layout.menuShowTopBar},null,8,["model-value"])]),_:1},8,["label"]),l(V,{label:e(t)("layouts.Side menu top bar background color")},{default:s(()=>[l(P,{onChange:n[11]||(n[11]=C=>g(C,"menuTopBarBackground")),"model-value":e(o).getColorVal("menuTopBarBackground")},null,8,["model-value"])]),_:1},8,["label"]),l(V,{label:e(t)("layouts.Side menu width (when expanded)")},{default:s(()=>[l(G,{onInput:n[12]||(n[12]=C=>a(C,"menuWidth")),type:"number",step:10,"model-value":e(o).layout.menuWidth},{append:s(()=>n[25]||(n[25]=[I("px")])),_:1},8,["model-value"])]),_:1},8,["label"]),l(V,{label:e(t)("layouts.Side menu default icon")},{default:s(()=>[l(Ct,{onChange:n[13]||(n[13]=C=>i(C,"menuDefaultIcon")),"model-value":e(o).layout.menuDefaultIcon},null,8,["model-value"])]),_:1},8,["label"]),l(V,{label:e(t)("layouts.Side menu horizontal collapse")},{default:s(()=>[l(U,{onChange:n[14]||(n[14]=C=>a(C,"menuCollapse")),"model-value":e(o).layout.menuCollapse},null,8,["model-value"])]),_:1},8,["label"]),l(V,{label:e(t)("layouts.Side menu accordion")},{default:s(()=>[l(U,{onChange:n[15]||(n[15]=C=>a(C,"menuUniqueOpened")),"model-value":e(o).layout.menuUniqueOpened},null,8,["model-value"])]),_:1},8,["label"])]),l(y,{"border-style":"dashed"},{default:s(()=>[I(w(e(t)("layouts.Top bar")),1)]),_:1}),m("div",jt,[l(V,{label:e(t)("layouts.Top bar background color")},{default:s(()=>[l(P,{onChange:n[16]||(n[16]=C=>g(C,"headerBarBackground")),"model-value":e(o).getColorVal("headerBarBackground")},null,8,["model-value"])]),_:1},8,["label"]),l(V,{label:e(t)("layouts.Top bar text color")},{default:s(()=>[l(P,{onChange:n[17]||(n[17]=C=>g(C,"headerBarTabColor")),"model-value":e(o).getColorVal("headerBarTabColor")},null,8,["model-value"])]),_:1},8,["label"]),l(V,{label:e(t)("layouts.Background color when hovering over the top bar")},{default:s(()=>[l(P,{onChange:n[18]||(n[18]=C=>g(C,"headerBarHoverBackground")),"model-value":e(o).getColorVal("headerBarHoverBackground")},null,8,["model-value"])]),_:1},8,["label"]),l(V,{label:e(t)("layouts.Top bar menu active item background color")},{default:s(()=>[l(P,{onChange:n[19]||(n[19]=C=>g(C,"headerBarTabActiveBackground")),"model-value":e(o).getColorVal("headerBarTabActiveBackground")},null,8,["model-value"])]),_:1},8,["label"]),l(V,{label:e(t)("layouts.Top bar menu active item text color")},{default:s(()=>[l(P,{onChange:n[20]||(n[20]=C=>g(C,"headerBarTabActiveColor")),"model-value":e(o).getColorVal("headerBarTabActiveColor")},null,8,["model-value"])]),_:1},8,["label"])]),l(h,{onConfirm:b,title:e(t)("layouts.Are you sure you want to restore all configurations to the default values?")},{reference:s(()=>[m("div",Xt,[l(ee,{class:"w80",type:"info"},{default:s(()=>[I(w(e(t)("layouts.Restore default")),1)]),_:1})])]),_:1},8,["title"])])]),_:1},8,["model"])]),_:1})]),_:1},8,["model-value","title"])])}}}),Zt=D(Yt,[["__scopeId","data-v-2fcf2bed"]]),Gt={class:"command"},Jt={class:"task-opt"},Qt=["onClick"],eo={class:"terminal-buttons"},to={class:"config-buttons"},oo=A({__name:"index",setup(T){const{t}=ye.useI18n(),o=Me(),r=ie("terminalScrollbarRef"),d=j({registryLoading:!1,registryLoadingType:"npm",packageManagerLoading:!1}),a=u=>{let n=t("terminal.unknown"),y="info";switch(u){case F.Waiting:n=t("terminal.Waiting for execution"),y="info";break;case F.Connecting:n=t("terminal.Connecting"),y="warning";break;case F.Executing:n=t("terminal.Executing"),y="warning";break;case F.Success:n=t("terminal.Successful execution"),y="success";break;case F.Failed:n=t("terminal.Execution failed"),y="danger";break;case F.Unknown:n=t("terminal.Unknown execution result"),y="danger";break}return{statusText:n,statusType:y}},g=(u,n,y=!0,B="",_=()=>{})=>{n?o.addTaskPM(u,y,B,_):o.addTask(u,y,B,_),le(()=>{r.value&&r.value.wrapRef&&r.value.setScrollTop(r.value.wrapRef.scrollHeight)})},f=()=>{Ne.confirm(t("terminal.Are you sure you want to republish?"),t("Reminder"),{confirmButtonText:t("Confirm"),cancelButtonText:t("Cancel"),type:"warning"}).then(()=>{g("web-build",!0,!0,"",()=>{})})},i=u=>{d.packageManagerLoading=!0,lt({manager:u}).then(n=>{n.code==1&&o.changePackageManager(u)}).finally(()=>{d.packageManagerLoading=!1})},v=(u,n)=>{const y=n=="npm"?o.state.npmRegistry:o.state.composerRegistry;o.changeRegistry(u,n),d.registryLoading=!0,d.registryLoadingType=n,o.addTask(`set-${n}-registry.${u}`,!1,"",B=>{d.registryLoading=!1,(B==F.Failed||B==F.Unknown)&&Ne.confirm(t("terminal.Failed to modify the source command, Please try again manually"),t("Reminder"),{confirmButtonText:t("Confirm"),showCancelButton:!1,type:"warning"}).then(()=>{o.changeRegistry(y,n)})})},b=u=>{let n={};return u=="npm"?n={npm:"npm",taobao:"taobao",tencent:"tencent"}:u=="composer"&&(n={composer:"composer",huawei:"huawei",aliyun:"aliyun",tencent:"tencent",kkame:"kkame"}),o.state[u=="npm"?"npmRegistry":"composerRegistry"]=="unknown"&&(n.unknown=t("Unknown")),n};return Y(()=>{o.init()}),(u,n)=>{const y=p("el-alert"),B=p("el-tag"),_=p("el-button"),V=p("Icon"),L=p("el-card"),Z=p("el-timeline-item"),P=p("el-timeline"),U=p("el-empty"),G=p("el-dropdown-item"),ee=p("el-dropdown-menu"),h=p("el-dropdown"),M=p("el-dialog"),S=p("el-form"),z=Pe("blur"),C=Pe("loading");return c(),R("div",null,[l(M,{modelValue:e(o).state.show,"onUpdate:modelValue":n[6]||(n[6]=k=>e(o).state.show=k),title:e(t)("terminal.Terminal"),class:"ba-terminal-dialog main-dialog"},{default:s(()=>[l(e(dt),{ref_key:"terminalScrollbarRef",ref:r,"max-height":500,class:"terminal-scrollbar"},{default:s(()=>[e(o).state.phpDevelopmentServer?$("",!0):(c(),x(y,{key:0,class:"terminal-warning-alert",title:e(t)("terminal.The current terminal is not running under the installation service, and some commands may not be executed"),type:"error"},null,8,["title"])),e(o).state.taskList.length?(c(),x(P,{key:1,class:"terminal-timeline"},{default:s(()=>[(c(!0),R(K,null,se(e(o).state.taskList,(k,me)=>(c(),x(Z,{key:me,class:E(["task-item","task-status-"+k.status]),type:a(k.status).statusType,center:"",timestamp:k.createTime,placement:"top"},{default:s(()=>[l(L,null,{default:s(()=>[m("div",null,[l(B,{type:a(k.status).statusType},{default:s(()=>[I(w(a(k.status).statusText),1)]),_:2},1032,["type"]),(k.status==e(F).Failed||k.status==e(F).Unknown)&&k.blockOnFailure?(c(),x(B,{key:0,class:"block-on-failure-tag",type:"warning"},{default:s(()=>[I(w(e(t)("terminal.Failure to execute this command will block the execution of the queue")),1)]),_:1})):$("",!0),k.status==e(F).Executing||k.status==e(F).Connecting?(c(),x(B,{key:1,class:"block-on-failure-tag",type:"danger"},{default:s(()=>[I(w(e(t)("terminal.Do not refresh the browser")),1)]),_:1})):$("",!0),m("span",Gt,w(k.command),1),m("div",Jt,[k.status==e(F).Failed||k.status==e(F).Unknown?W((c(),x(_,{key:0,title:e(t)("Retry"),size:"small",type:"warning",icon:"el-icon-RefreshRight",circle:"",onClick:fe=>e(o).retryTask(me)},null,8,["title","onClick"])),[[z]]):$("",!0),W(l(_,{onClick:fe=>e(o).delTask(me),title:e(t)("Delete"),size:"small",type:"danger",icon:"el-icon-Delete",circle:""},null,8,["onClick","title"]),[[z]])])]),k.status!=e(F).Waiting?(c(),R(K,{key:0},[k.status!=e(F).Connecting&&k.status!=e(F).Executing?(c(),R("div",{key:0,onClick:fe=>e(o).setTaskShowMessage(me),class:"toggle-message-display"},[m("span",null,w(e(t)("terminal.Command run log")),1),l(V,{name:k.showMessage?"el-icon-ArrowUp":"el-icon-ArrowDown",size:"16",color:"#909399"},null,8,["name"])],8,Qt)):$("",!0),k.status==e(F).Connecting||k.status==e(F).Executing||k.status>e(F).Executing&&k.showMessage?(c(),R("div",{key:1,class:E(["exec-message","exec-message-"+k.uuid])},[(c(!0),R(K,null,se(k.message,(fe,et)=>(c(),R("pre",{key:et,class:"message-item"},w(fe),1))),128))],2)):$("",!0)],64)):$("",!0)]),_:2},1024)]),_:2},1032,["class","type","timestamp"]))),128))]),_:1})):(c(),x(U,{key:2,"image-size":80,description:e(t)("terminal.No mission yet")},null,8,["description"]))]),_:1},512),m("div",eo,[W((c(),x(_,{class:"terminal-menu-item",icon:"el-icon-MagicStick",onClick:n[0]||(n[0]=k=>g("test",!0,!1))},{default:s(()=>[I(w(e(t)("terminal.Test command")),1)]),_:1})),[[z]]),l(h,{class:"terminal-menu-item"},{dropdown:s(()=>[l(ee,null,{default:s(()=>[e(o).state.packageManager!="none"?(c(),x(G,{key:0,onClick:n[1]||(n[1]=k=>g("web-install",!0))},{default:s(()=>[I(w(e(o).state.packageManager)+" run install ",1)]),_:1})):$("",!0),l(G,{onClick:n[2]||(n[2]=k=>g("composer.update",!1))},{default:s(()=>n[9]||(n[9]=[I("composer update")])),_:1})]),_:1})]),default:s(()=>[W((c(),x(_,{icon:"el-icon-Download"},{default:s(()=>[I(w(e(t)("terminal.Install dependent packages")),1)]),_:1})),[[z]])]),_:1}),W((c(),x(_,{class:"terminal-menu-item",icon:"el-icon-Sell",onClick:n[3]||(n[3]=k=>f())},{default:s(()=>[I(w(e(t)("terminal.Republish")),1)]),_:1})),[[z]]),W((c(),x(_,{class:"terminal-menu-item",icon:"el-icon-Delete",onClick:n[4]||(n[4]=k=>e(o).clearSuccessTask())},{default:s(()=>[I(w(e(t)("terminal.Clean up task list")),1)]),_:1})),[[z]]),W((c(),x(_,{class:"terminal-menu-item",icon:"el-icon-Tools",onClick:n[5]||(n[5]=k=>e(o).toggleConfigDialog())},{default:s(()=>[I(w(e(t)("terminal.Terminal settings")),1)]),_:1})),[[z]])])]),_:1},8,["modelValue","title"]),l(M,{onClose:n[8]||(n[8]=k=>e(o).toggleConfigDialog(!1)),"model-value":e(o).state.showConfig,class:"ba-terminal-dialog",title:e(t)("terminal.Terminal settings")},{default:s(()=>[l(S,{"label-position":"left","label-width":"140"},{default:s(()=>[W((c(),x(pe,{label:"NPM "+e(t)("terminal.Source"),"model-value":e(o).state.npmRegistry,key:e(o).state.npmRegistry,type:"select","input-attr":{border:!0,content:b("npm"),teleported:!1,onChange:k=>v(k,"npm")}},null,8,["label","model-value","input-attr"])),[[C,d.registryLoading&&d.registryLoadingType=="npm"]]),W((c(),x(pe,{label:"Composer "+e(t)("terminal.Source"),"model-value":e(o).state.composerRegistry,key:e(o).state.composerRegistry,type:"select","input-attr":{border:!0,content:b("composer"),teleported:!1,onChange:k=>v(k,"composer")}},null,8,["label","model-value","input-attr"])),[[C,d.registryLoading&&d.registryLoadingType=="composer"]]),W(l(pe,{label:e(t)("terminal.NPM package manager"),"model-value":e(o).state.packageManager,type:"select","input-attr":{border:!0,content:{npm:"NPM",cnpm:"CNPM",pnpm:"PNPM",yarn:"YARN",ni:"NI",none:e(t)("terminal.Manual execution")},teleported:!1,onChange:k=>i(k)},tip:e(t)("terminal.NPM package manager tip")},null,8,["label","model-value","input-attr","tip"]),[[C,d.packageManagerLoading]]),l(pe,{label:e(t)("terminal.Clear successful task"),"model-value":e(o).state.automaticCleanupTask,type:"radio","input-attr":{border:!0,content:{0:e(t)("Disable"),1:e(t)("Enable")},onChange:e(o).changeAutomaticCleanupTask},tip:e(t)("terminal.Clear successful task tip")},null,8,["label","model-value","input-attr","tip"])]),_:1}),m("div",to,[l(_,{onClick:n[7]||(n[7]=k=>e(o).toggleConfigDialog(!1))},{default:s(()=>[I(w(e(t)("terminal.Back to terminal")),1)]),_:1})])]),_:1},8,["model-value","title"])])}}}),lo=D(oo,[["__scopeId","data-v-4a3fef97"]]),no={class:"el-popover__title"},ao={class:"reload-hot-server-content"},so={class:"reload-hot-server-buttons"},ro={class:"nav-menu-item"},uo={class:"admin-name"},co={class:"admin-info-base"},io={class:"admin-info-other"},mo={class:"admin-info-name"},fo={class:"admin-info-lasttime"},po={class:"admin-info-footer"},_o=A({__name:"navMenus",setup(T){O(B=>({fcf987ac:e(r).getColorVal("headerBarBackground"),"62477d0a":e(r).getColorVal("headerBarTabColor"),"3a600c3c":e(r).getColorVal("headerBarHoverBackground")}));const{t}=ye.useI18n(),o=We(),r=H(),d=Me(),a=Se(),g=ie("reloadHotServerPopover"),f=j({isFullScreen:!1,currentNavMenu:"",showLayoutDrawer:!1,showAdminInfoPopover:!1}),i=(B,_)=>{f.currentNavMenu=B?_:""},v=B=>{var _;B=="cancel"&&((_=g.value)==null||_.hide())},b=()=>{if(!N.isEnabled)return mt.warning(t("layouts.Full screen is not supported")),!1;N.toggle(),N.onchange(()=>{f.isFullScreen=N.isFullscreen})},u=()=>{f.showAdminInfoPopover=!1,ve({name:"routine/adminInfo"})},n=()=>{wt().then(()=>{te.remove(xe),Ke.go(0)})},y=B=>{if(B=="storage"||B=="all"){const _=te.get(xe),V=te.get(De);if(ne.clear(),te.clear(),te.set(xe,_),te.set(De,V),B=="storage")return}at(B).then(()=>{})};return(B,_)=>{const V=p("el-button"),L=p("Icon"),Z=p("el-popover"),P=p("router-link"),U=p("el-dropdown-item"),G=p("el-dropdown-menu"),ee=p("el-dropdown"),h=p("el-badge"),M=p("el-avatar");return c(),R("div",{class:E(["nav-menus",e(r).layout.layoutMode])},[e(Le).dirtyFile?(c(),x(Z,{key:0,ref_key:"reloadHotServerPopover",ref:g,onShow:_[2]||(_[2]=S=>i(!0,"reloadHotServer")),onHide:_[3]||(_[3]=S=>i(!1,"reloadHotServer")),width:360},{reference:s(()=>[m("div",{class:E(["nav-menu-item",f.currentNavMenu=="reloadHotServer"?"hover":""])},[l(L,{color:"var(--el-color-danger)",class:"nav-menu-icon",name:"el-icon-Warning",size:"18"})],2)]),default:s(()=>[m("div",null,[m("div",no,w(e(t)("vite.Reload hot server title")),1),m("div",ao,[m("p",null,[m("span",null,w(e(t)("vite.Reload hot server tips 1")),1),m("span",null,"【"+w(e(t)(`vite.Close type ${e(Le).closeType}`))+"】",1),m("span",null,w(e(t)("vite.Reload hot server tips 2")),1)]),m("p",null,w(e(t)("vite.Reload hot server tips 3")),1),m("div",so,[l(V,{onClick:_[0]||(_[0]=S=>v("cancel"))},{default:s(()=>[I(w(e(t)("vite.Later")),1)]),_:1}),l(V,{onClick:_[1]||(_[1]=S=>v("reload")),type:"primary"},{default:s(()=>[I(w(e(t)("vite.Restart hot update")),1)]),_:1})])])])]),_:1},512)):$("",!0),l(P,{class:"h100",target:"_blank",title:e(t)("Home"),to:"/"},{default:s(()=>[m("div",ro,[l(L,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-Monitor",size:"18"},null,8,["color"])])]),_:1},8,["title"]),l(ee,{onVisibleChange:_[4]||(_[4]=S=>i(S,"lang")),class:"h100",size:"large","hide-timeout":50,placement:"bottom",trigger:"click","hide-on-click":!0},{dropdown:s(()=>[l(G,{class:"dropdown-menu-box"},{default:s(()=>[(c(!0),R(K,null,se(e(r).lang.langArray,S=>(c(),x(U,{key:S.name,onClick:z=>e(st)(S.name)},{default:s(()=>[I(w(S.value),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:s(()=>[m("div",{class:E(["nav-menu-item pt2",f.currentNavMenu=="lang"?"hover":""])},[l(L,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-lang",size:"18"},null,8,["color"])],2)]),_:1}),m("div",{onClick:b,class:E(["nav-menu-item",f.isFullScreen?"hover":""])},[f.isFullScreen?(c(),x(L,{key:0,color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-full-screen-cancel",size:"18"},null,8,["color"])):(c(),x(L,{key:1,color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-FullScreen",size:"18"},null,8,["color"]))],2),e(o).super?(c(),R("div",{key:1,onClick:_[5]||(_[5]=S=>e(d).toggle()),class:"nav-menu-item pt2"},[l(h,{"is-dot":e(d).state.showDot},{default:s(()=>[l(L,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"local-terminal",size:"26"},null,8,["color"])]),_:1},8,["is-dot"])])):$("",!0),e(o).super?(c(),x(ee,{key:2,onVisibleChange:_[9]||(_[9]=S=>i(S,"clear")),class:"h100",size:"large","hide-timeout":50,placement:"bottom",trigger:"click","hide-on-click":!0},{dropdown:s(()=>[l(G,{class:"dropdown-menu-box"},{default:s(()=>[l(U,{onClick:_[6]||(_[6]=S=>y("tp"))},{default:s(()=>[I(w(e(t)("utils.Clean up system cache")),1)]),_:1}),l(U,{onClick:_[7]||(_[7]=S=>y("storage"))},{default:s(()=>[I(w(e(t)("utils.Clean up browser cache")),1)]),_:1}),l(U,{onClick:_[8]||(_[8]=S=>y("all")),divided:""},{default:s(()=>[I(w(e(t)("utils.Clean up all cache")),1)]),_:1})]),_:1})]),default:s(()=>[m("div",{class:E(["nav-menu-item",f.currentNavMenu=="clear"?"hover":""])},[l(L,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"el-icon-Delete",size:"18"},null,8,["color"])],2)]),_:1})):$("",!0),e(a).userInitialize?(c(),x(Z,{key:3,onShow:_[10]||(_[10]=S=>i(!0,"adminInfo")),onHide:_[11]||(_[11]=S=>i(!1,"adminInfo")),placement:"bottom-end","hide-after":0,width:260,trigger:"click","popper-class":"admin-info-box",visible:f.showAdminInfoPopover,"onUpdate:visible":_[12]||(_[12]=S=>f.showAdminInfoPopover=S)},{reference:s(()=>[m("div",{class:E(["admin-info",f.currentNavMenu=="adminInfo"?"hover":""])},[l(M,{size:25,src:e(Fe)(e(o).avatar)},null,8,["src"]),m("div",uo,w(e(o).nickname),1)],2)]),default:s(()=>[m("div",null,[m("div",co,[l(M,{size:70,src:e(Fe)(e(o).avatar)},null,8,["src"]),m("div",io,[m("div",mo,w(e(o).nickname),1),m("div",fo,w(e(nt)(e(o).last_login_time)),1)])]),m("div",po,[l(V,{onClick:u,type:"primary",plain:""},{default:s(()=>[I(w(e(t)("layouts.Profile")),1)]),_:1}),l(V,{onClick:n,type:"danger",plain:""},{default:s(()=>[I(w(e(t)("layouts.Logout")),1)]),_:1})])])]),_:1},8,["visible"])):$("",!0),m("div",{onClick:_[13]||(_[13]=S=>e(r).setLayout("showDrawer",!0)),class:"nav-menu-item"},[l(L,{color:e(r).getColorVal("headerBarTabColor"),class:"nav-menu-icon",name:"fa fa-cogs",size:"18"},null,8,["color"])]),l(Zt),l(lo)],2)}}}),he=D(_o,[["__scopeId","data-v-35307110"]]),vo={class:"nav-bar"},yo=A({__name:"default",setup(T){O(o=>({"67abd059":e(t).getColorVal("headerBarTabColor"),f0bff19a:e(t).getColorVal("headerBarTabActiveColor"),"00d66b4c":e(t).getColorVal("headerBarTabActiveBackground")}));const t=H();return(o,r)=>(c(),R("div",vo,[l(Qe,{ref_key:"layoutNavTabsRef",ref:je},null,512),l(he)]))}}),go=D(yo,[["__scopeId","data-v-528ceb49"]]),bo={class:"nav-bar"},ho={key:0,class:"unfold"},Co=A({__name:"classic",setup(T){O(r=>({"737cd666":e(t).getColorVal("headerBarBackground"),"0af9a26d":e(t).getColorVal("headerBarTabColor"),"88760b72":e(t).getColorVal("headerBarTabActiveColor"),"7cfea179":e(t).getColorVal("headerBarHoverBackground"),e21b7690:e(t).getColorVal("headerBarTabActiveBackground")}));const t=H(),o=()=>{bt("ba-aside-menu-shade",()=>{t.setLayout("menuCollapse",!0)}),t.setLayout("menuCollapse",!1)};return(r,d)=>{const a=p("Icon");return c(),R("div",bo,[e(t).layout.shrink&&e(t).layout.menuCollapse?(c(),R("div",ho,[l(a,{onClick:o,name:"fa fa-indent",color:e(t).getColorVal("menuActiveColor"),size:"18"},null,8,["color"])])):$("",!0),e(t).layout.shrink?$("",!0):(c(),x(Qe,{key:1,ref_key:"layoutNavTabsRef",ref:je},null,512)),l(he)])}}}),ko=D(Co,[["__scopeId","data-v-952ef580"]]),wo={class:"layouts-menu-horizontal"},xo={key:0,class:"menu-horizontal-logo"},To=A({__name:"menuHorizontal",setup(T){O(f=>({baec6338:e(t).getColorVal("headerBarHoverBackground"),"93f1f226":e(t).getColorVal("menuBackground"),a09a2a1c:e(t).getColorVal("menuColor"),"6e050b0c":e(t).getColorVal("menuActiveColor"),"3b3231da":e(t).getColorVal("menuActiveBackground")}));const t=H(),o=q(),r=oe(),d=j({defaultActive:""}),a=f=>{const i=o.getTabsViewDataByRoute(f);i&&(d.defaultActive=J(i,i.meta.matched))},g=()=>{setTimeout(()=>{var i;let f=document.querySelector(".el-menu.menu-horizontal li.is-active");f&&((i=Q.value)==null||i.setScrollLeft(f.offsetLeft))},500)};return Y(()=>{a(r),g(),new Be(Q.value.wrapRef)}),de(f=>{a(f)}),(f,i)=>{const v=p("el-menu"),b=p("el-scrollbar");return c(),R("div",wo,[e(t).layout.menuShowTopBar?(c(),R("div",xo,[l(Ge)])):$("",!0),l(b,{ref_key:"layoutMenuScrollbarRef",ref:Q,class:"horizontal-menus-scrollbar"},{default:s(()=>[l(v,{ref_key:"layoutMenuRef",ref:ge,class:"menu-horizontal",mode:"horizontal","default-active":d.defaultActive},{default:s(()=>[l(be,{extends:{position:"horizontal",level:1},menus:e(o).state.tabsViewRoutes},null,8,["menus"])]),_:1},8,["default-active"])]),_:1},512),l(he)])}}}),So=D(To,[["__scopeId","data-v-6b34e328"]]),Bo={class:"layouts-menu-horizontal-double"},Mo=A({__name:"double",setup(T){O(f=>({"0a252609":e(t).getColorVal("menuBackground"),"22e66b54":e(t).getColorVal("menuColor"),c4aa6120:e(t).getColorVal("menuActiveColor"),"5b3f7da2":e(t).getColorVal("menuActiveBackground")}));const t=H(),o=q(),r=oe(),d=j({defaultActive:""}),a=f=>{const i=o.getTabsViewDataByRoute(f);i&&(d.defaultActive=J(i,i.meta.matched))},g=()=>{setTimeout(()=>{var i;let f=document.querySelector(".el-menu.menu-horizontal li.is-active");f&&((i=Q.value)==null||i.setScrollLeft(f.offsetLeft))},500)};return Y(()=>{a(r),g(),new Be(Q.value.wrapRef)}),de(f=>{a(f)}),(f,i)=>{const v=p("el-menu"),b=p("el-scrollbar");return c(),R("div",Bo,[l(b,{ref_key:"layoutMenuScrollbarRef",ref:Q,class:"double-menus-scrollbar"},{default:s(()=>[l(v,{ref_key:"layoutMenuRef",ref:ge,class:"menu-horizontal",mode:"horizontal","default-active":d.defaultActive},{default:s(()=>[l(be,{extends:{position:"horizontal",level:1},menus:e(o).state.tabsViewRoutes},null,8,["menus"])]),_:1},8,["default-active"])]),_:1},512),l(he)])}}}),Ro=D(Mo,[["__scopeId","data-v-1dd56bd1"]]),Vo=A({name:"layout/header",components:{DefaultNavBar:go,ClassicNavBar:ko,StreamlineNavBar:So,DoubleNavBar:Ro},__name:"header",setup(T){const t=H(),o=q();return(r,d)=>{const a=p("el-header");return e(o).state.tabFullScreen?$("",!0):(c(),x(a,{key:0,class:"layout-header"},{default:s(()=>[(c(),x($e(e(t).layout.layoutMode+"NavBar")))]),_:1}))}}}),Ce=D(Vo,[["__scopeId","data-v-9014eea9"]]),$o=A({name:"layout/main",__name:"main",setup(T){const{proxy:t}=Je(),o=oe(),r=H(),d=q(),a=j({componentKey:o.fullPath,keepAliveComponentNameList:[]}),g=function(i){if(i){if(a.keepAliveComponentNameList.find(b=>b===i))return;a.keepAliveComponentNameList.push(i)}},f=()=>{var i;if(d.state.activeRoute){const v=d.getTabsViewDataByRoute(d.state.activeRoute);v&&typeof((i=v.meta)==null?void 0:i.keepalive)=="string"&&g(v.meta.keepalive)}};return Ze(()=>{t.eventBus.on("onTabViewRefresh",i=>{a.keepAliveComponentNameList=a.keepAliveComponentNameList.filter(v=>i.meta.keepalive!==v),a.componentKey="",le(()=>{a.componentKey=i.fullPath,g(i.meta.keepalive)})}),t.eventBus.on("onTabViewClose",i=>{a.keepAliveComponentNameList=a.keepAliveComponentNameList.filter(v=>i.meta.keepalive!==v)})}),ft(()=>{t.eventBus.off("onTabViewRefresh"),t.eventBus.off("onTabViewClose")}),Y(()=>{f()}),pt(()=>o.fullPath,()=>{a.componentKey=o.fullPath,f()}),(i,v)=>{const b=p("router-view"),u=p("el-scrollbar"),n=p("el-main");return c(),x(n,{class:"layout-main"},{default:s(()=>[l(u,{class:"layout-main-scrollbar",style:ae(e(ut)),ref_key:"layoutMainScrollbarRef",ref:rt},{default:s(()=>[l(b,null,{default:s(({Component:y})=>[l(Ve,{name:e(r).layout.mainAnimation,mode:"out-in"},{default:s(()=>[(c(),x(_t,{include:a.keepAliveComponentNameList},[(c(),x($e(y),{key:a.componentKey}))],1032,["include"]))]),_:2},1032,["name"])]),_:1})]),_:1},8,["style"])]),_:1})}}}),ke=D($o,[["__scopeId","data-v-93dd102f"]]),Io=["title"],Ao=A({__name:"closeFullScreen",setup(T){O(g=>({"3c4d29c4":e(_e),"32e1e4fc":e(_e)-1}));const t=q(),o=j({closeBoxTop:20});Y(()=>{setTimeout(()=>{o.closeBoxTop=-30},300)});const r=()=>{o.closeBoxTop=20},d=()=>{o.closeBoxTop=-30},a=()=>{t.setFullScreen(!1)};return(g,f)=>{const i=p("Icon");return c(),R("div",{title:g.$t("layouts.Exit full screen"),onMouseover:ue(r,["stop"]),onMouseout:ue(d,["stop"])},[m("div",{onClick:ue(a,["stop"]),class:"close-full-screen",style:ae({top:o.closeBoxTop+"px"})},[l(i,{name:"el-icon-Close"})],4),f[0]||(f[0]=m("div",{class:"close-full-screen-on"},null,-1))],40,Io)}}}),we=D(Ao,[["__scopeId","data-v-e7b01c02"]]),Lo=A({__name:"default",setup(T){const t=q();return(o,r)=>{const d=p("el-container");return c(),R(K,null,[l(d,{class:"layout-container"},{default:s(()=>[l(Ae),l(d,{class:"content-wrapper"},{default:s(()=>[l(Ce),l(ke)]),_:1})]),_:1}),e(t).state.tabFullScreen?(c(),x(we,{key:0})):$("",!0)],64)}}}),Fo=D(Lo,[["__scopeId","data-v-59d252c1"]]),Do=A({__name:"classic",setup(T){const t=q();return(o,r)=>{const d=p("el-container");return c(),R(K,null,[l(d,{class:"layout-container"},{default:s(()=>[l(Ae),l(d,{class:"content-wrapper"},{default:s(()=>[l(Ce),l(ke)]),_:1})]),_:1}),e(t).state.tabFullScreen?(c(),x(we,{key:0})):$("",!0)],64)}}}),zo=D(Do,[["__scopeId","data-v-fb349671"]]),Po=A({__name:"streamline",setup(T){const t=q();return(o,r)=>{const d=p("el-container");return c(),R(K,null,[l(d,{class:"layout-container"},{default:s(()=>[l(d,{class:"content-wrapper"},{default:s(()=>[l(Ce),l(ke)]),_:1})]),_:1}),e(t).state.tabFullScreen?(c(),x(we,{key:0})):$("",!0)],64)}}}),No=D(Po,[["__scopeId","data-v-fcdc1bd3"]]),Eo=A({__name:"double",setup(T){const t=q();return(o,r)=>{const d=p("el-container");return c(),R(K,null,[l(d,{class:"layout-container"},{default:s(()=>[l(Ae),l(d,{class:"content-wrapper"},{default:s(()=>[l(Ce),l(ke)]),_:1})]),_:1}),e(t).state.tabFullScreen?(c(),x(we,{key:0})):$("",!0)],64)}}}),Ho=D(Eo,[["__scopeId","data-v-d08319bd"]]),Jo=A({components:{Default:Fo,Classic:zo,Streamline:No,Double:Ho},__name:"index",setup(T){const t=Me(),o=q(),r=H(),d=oe(),a=Se(),g=We(),f=j({autoMenuCollapseLock:!1});Y(()=>{if(!g.token)return Ke.push({name:"adminLogin"});i(),Te(),re(window,"resize",Te)}),Ze(()=>{v(),re(window,"resize",v)});const i=()=>{xt().then(b=>{if(a.dataFill(b.data.siteConfig),t.changePackageManager(b.data.terminal.npmPackageManager),t.changePHPDevelopmentServer(b.data.terminal.phpDevelopmentServer),a.setInitialize(!0),Ee(b.data.adminInfo)||(g.dataFill(b.data.adminInfo),a.setUserInitialize(!0)),b.data.menus){if(ht(b.data.menus),d.params.to){const n=JSON.parse(d.params.to);if(n.path!=Oe){let y=Ee(n.query)?{}:n.query;ve({path:n.path,query:y});return}}let u=Ie(o.state.tabsViewRoutes);u&&ve(u.path)}})},v=()=>{let b={layoutMode:r.layout.layoutMode,menuCollapse:r.layout.menuCollapse},u=ne.get(ce);if(u||ne.set(ce,b),document.body.clientWidth<1024)f.autoMenuCollapseLock||(f.autoMenuCollapseLock=!0,r.setLayout("menuCollapse",!0)),r.setLayout("shrink",!0),r.setLayoutMode("Classic");else{f.autoMenuCollapseLock=!1;let y=u||b;r.setLayout("menuCollapse",y.menuCollapse),r.setLayout("shrink",!1),r.setLayoutMode(y.layoutMode)}};return(b,u)=>(c(),x($e(e(r).layout.layoutMode)))}});export{Jo as default};
