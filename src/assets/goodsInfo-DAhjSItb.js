import{x as K,R as C,_ as oo}from"./index-Ch2xGh_u.js";import{m as r,s as e,c as eo,f as E,b as A,j as so,k as to,i as B,p as no,e as lo,l as io}from"./index-cuCYTQ1e.js";import ao from"./buy-YR9Ql3vz.js";import co from"./pay-Ots2Eqz-.js";import{u as ro}from"./index-CKlMVfmH.js";import{B as uo,I as c,Z as P,C as u,D as d,H as _,u as o,P as i,_ as b,O as m,G as s,U as g,Y as k,X as w,V as t,W as f,p as mo,ag as V}from"./vue-opd7UYcs.js";import"./terminal-tE8xIOWp.js";const _o={class:"goods-info"},go={class:"goods-images"},fo={class:"goods-basic"},po={class:"goods-basic-title"},Io={class:"goods-tag"},ho={class:"basic-item"},vo={class:"basic-item-title"},bo={class:"basic-item-price"},yo={class:"basic-item"},ko={class:"basic-item-title"},wo={class:"basic-item-content"},Lo={class:"basic-item"},No={class:"basic-item-title"},To={class:"basic-item-content"},Co={key:0,class:"basic-item"},Ao={class:"basic-item-title"},Do={class:"basic-item-content"},So={class:"basic-item"},Eo={class:"basic-item-title"},Bo={class:"basic-item-content"},Po={class:"basic-item"},Vo={class:"basic-item-title"},qo={class:"basic-item-content"},xo={key:1},Mo={class:"basic-item"},Uo={class:"basic-item-title"},$o={class:"basic-item-content"},Wo={key:1},Ho={key:1,class:"basic-item"},Fo={class:"basic-item-title"},Go={class:"basic-item-content"},Oo={class:"basic-buttons"},Ro={class:"basic-button-dropdown-span"},zo={class:"demo-item-title"},jo={class:"demo-image"},Qo=["src"],Yo={key:0,class:"goods-developer"},Xo={class:"developer-header"},Zo={class:"developer-name"},Jo={class:"developer-nickname"},Ko={class:"developer-group"},oe={key:0,class:"developer-contact"},ee={class:"developer-info-title"},se={class:"contact-item"},te=["href"],ne={class:"developer-recommend"},de={class:"developer-info-title"},le={key:0,class:"recommend-goods"},ie=["onClick"],ae={class:"recommend-goods-title"},ce={key:1,class:"data-empty"},re=["innerHTML"],ue={class:"goods-version"},me={key:0,class:"version-timeline"},_e={class:"version-card-header"},ge={class:"version-short-describe"},fe=["innerHTML"],pe={key:1,class:"empty-update-log"},Ie=uo({__name:"goodsInfo",setup(he){const h={InstallNow:[r.UNINSTALLED,r.WAIT_INSTALL],continueInstallation:[r.CONFLICT_PENDING,r.DEPENDENT_WAIT_INSTALL],alreadyInstalled:[r.INSTALLED],stateSwitch:[r.INSTALLED,r.CONFLICT_PENDING,r.DEPENDENT_WAIT_INSTALL,r.DISABLE],updateButton:[r.WAIT_INSTALL,r.INSTALLED,r.DISABLE],buy:[r.UNINSTALLED]},{t:n}=K.useI18n(),q=(p,a)=>{!a||!p||window.open(p)},x=()=>{e.goodsInfo.enable?to(e.goodsInfo.uid):(e.common.disableParams={uid:e.goodsInfo.uid,state:0},B())},M=p=>{e.loading.common=!0,no(p).then(()=>{lo(),e.dialog.goodsInfo=!1}).finally(()=>{e.loading.common=!1})},U=(p,a)=>{if(!a){V.confirm(n("module.No module purchase order was found"),n("Reminder"),{confirmButtonText:n("Confirm"),cancelButtonText:n("Cancel"),type:"warning"}).then(()=>{E(!0)}).catch(()=>{});return}if(!ro().token){e.dialog.baAccount=!0;return}e.loading.common=!0,io(p).then(N=>{N.data.state==r.DISABLE?A(p,a,!0,!0):V.confirm(n("module.You need to disable this module before updating Do you want to disable it now?"),n("Reminder"),{confirmButtonText:n("module.Disable and update"),cancelButtonText:n("Cancel"),type:"warning"}).then(()=>{e.common.disableParams={uid:p,state:0,update:1},B()}).catch(()=>{})}).finally(()=>{e.loading.common=!1})};return(p,a)=>{const L=c("el-image"),N=c("el-carousel-item"),$=c("el-carousel"),W=c("el-tag"),D=c("el-link"),H=c("el-switch"),S=c("Icon"),v=c("el-button"),F=c("el-popover"),G=c("el-dropdown-item"),O=c("el-dropdown-menu"),R=c("el-dropdown"),z=c("el-avatar"),j=c("el-card"),Q=c("el-timeline-item"),Y=c("el-timeline"),X=c("el-scrollbar"),Z=c("el-dialog"),y=P("blur"),T=P("loading");return d(),u("div",null,[_(Z,{modelValue:o(e).dialog.goodsInfo,"onUpdate:modelValue":a[6]||(a[6]=l=>o(e).dialog.goodsInfo=l),class:"goods-info-dialog",title:o(n)("module.detailed information"),width:"60%"},{default:i(()=>[b((d(),m(X,{key:o(e).goodsInfo.uid,height:500},{default:i(()=>[s("div",_o,[s("div",go,[o(e).goodsInfo.images?(d(),m($,{key:0,height:"300","indicator-position":"outside"},{default:i(()=>[(d(!0),u(k,null,w(o(e).goodsInfo.images,(l,I)=>(d(),m(N,{class:"goods-image-item",key:I},{default:i(()=>[_(L,{fit:"contain","preview-src-list":o(e).goodsInfo.images,"preview-teleported":!0,src:l},null,8,["preview-src-list","src"])]),_:2},1024))),128))]),_:1})):g("",!0)]),s("div",fo,[s("h4",po,t(o(e).goodsInfo.title),1),s("div",Io,[(d(!0),u(k,null,w(o(e).goodsInfo.tags,(l,I)=>(d(),m(W,{key:I,type:l.type?l.type:"primary"},{default:i(()=>[f(t(l.name),1)]),_:2},1032,["type"]))),128))]),s("div",ho,[s("div",vo,t(o(n)("module.Price")),1),s("div",bo,t(typeof o(e).goodsInfo.currency_select<"u"?o(eo)(o(e).goodsInfo.present_price,o(e).goodsInfo.currency_select):"-"),1)]),s("div",yo,[s("div",ko,t(o(n)("module.Last updated")),1),s("div",wo,t(o(e).goodsInfo.updatetime?o(C)(o(e).goodsInfo.updatetime):"-"),1)]),s("div",Lo,[s("div",No,t(o(n)("module.Published on")),1),s("div",To,t(o(e).goodsInfo.createtime?o(C)(o(e).goodsInfo.createtime):"-"),1)]),h.stateSwitch.includes(o(e).goodsInfo.state)?g("",!0):(d(),u("div",Co,[s("div",Ao,t(o(n)("module.amount of downloads")),1),s("div",Do,t(o(e).goodsInfo.downloads?o(e).goodsInfo.downloads:"-"),1)])),s("div",So,[s("div",Eo,t(o(n)("module.Module classification")),1),s("div",Bo,t(o(e).goodsInfo.category?o(e).goodsInfo.category.name:"-"),1)]),s("div",Po,[s("div",Vo,t(o(n)("module.Module documentation")),1),s("div",qo,[o(e).goodsInfo.docs?(d(),m(D,{key:0,type:"primary",class:"basic-item-link",target:"_blank",href:`https://doc.buildadmin.com/md/${o(e).goodsInfo.docs.name?o(e).goodsInfo.docs.name:o(e).goodsInfo.docs.id}`,rel:"noopener noreferrer"},{default:i(()=>[f(t(o(n)("module.Click to access")),1)]),_:1},8,["href"])):(d(),u("span",xo,"-"))])]),s("div",Mo,[s("div",Uo,t(o(n)("module.Developer Homepage")),1),s("div",$o,[o(e).goodsInfo.author_url?(d(),m(D,{key:0,type:"primary",class:"basic-item-link",target:"_blank",href:o(e).goodsInfo.author_url,rel:"noopener noreferrer"},{default:i(()=>[f(t(o(n)("module.Click to access")),1)]),_:1},8,["href"])):(d(),u("span",Wo,"-"))])]),h.stateSwitch.includes(o(e).goodsInfo.state)?(d(),u("div",Ho,[s("div",Fo,t(o(n)("module.Module status")),1),s("div",Go,[_(H,{onChange:x,loading:o(e).loading.common,disabled:o(e).loading.common,modelValue:o(e).goodsInfo.enable,"onUpdate:modelValue":a[0]||(a[0]=l=>o(e).goodsInfo.enable=l)},null,8,["loading","disabled","modelValue"])])])):g("",!0),s("div",Oo,[(!o(e).goodsInfo.purchased||h.InstallNow.includes(o(e).goodsInfo.state))&&o(e).goodsInfo.demo&&o(e).goodsInfo.demo.length>0?(d(),m(R,{key:0},{dropdown:i(()=>[_(O,null,{default:i(()=>[(d(!0),u(k,null,w(o(e).goodsInfo.demo,(l,I)=>(d(),m(G,{key:I,onClick:J=>q(l.link,!l.image),class:"basic-button-dropdown-item"},{default:i(()=>[_(F,{placement:"right",title:o(n)("module.Code scanning Preview"),trigger:"hover",disabled:!l.image,width:174},{reference:i(()=>[s("div",zo,[_(S,{name:l.icon,size:"14",color:"var(--el-color-primary)"},null,8,["name"]),f(t(l.title),1)])]),default:i(()=>[s("div",jo,[s("img",{src:l.image,alt:""},null,8,Qo)])]),_:2},1032,["title","disabled"])]),_:2},1032,["onClick"]))),128))]),_:1})]),default:i(()=>[_(v,{class:"basic-button-demo",type:"primary"},{default:i(()=>[s("span",Ro,t(o(n)("module.View demo")),1),_(S,{color:"#ffffff",size:"16",name:"el-icon-ArrowDown"})]),_:1})]),_:1})):g("",!0),!o(e).goodsInfo.purchased&&h.buy.includes(o(e).goodsInfo.state)&&o(e).goodsInfo.type=="online"?b((d(),m(v,{key:1,onClick:a[1]||(a[1]=l=>o(E)(!1)),class:"basic-button-item",type:"danger"},{default:i(()=>[f(t(o(n)("module.Buy now")),1)]),_:1})),[[y]]):g("",!0),o(e).goodsInfo.state==o(r).UNINSTALLED&&o(e).goodsInfo.purchased||o(e).goodsInfo.state==o(r).WAIT_INSTALL?b((d(),m(v,{key:2,onClick:a[2]||(a[2]=l=>o(A)(o(e).goodsInfo.uid,o(e).goodsInfo.purchased,o(e).goodsInfo.state!=o(r).WAIT_INSTALL)),loading:o(e).loading.common,class:"basic-button-item",type:"success"},{default:i(()=>[f(t(o(n)("module.Install now")),1)]),_:1},8,["loading"])),[[y]]):g("",!0),h.continueInstallation.includes(o(e).goodsInfo.state)?b((d(),m(v,{key:3,onClick:a[3]||(a[3]=l=>o(A)(o(e).goodsInfo.uid,o(e).goodsInfo.purchased,!1)),loading:o(e).loading.common,class:"basic-button-item",type:"success"},{default:i(()=>[f(t(o(n)("module.continue installation")),1)]),_:1},8,["loading"])),[[y]]):g("",!0),h.alreadyInstalled.includes(o(e).goodsInfo.state)?b((d(),m(v,{key:4,disabled:!0,class:"basic-button-item"},{default:i(()=>[f(t(o(n)("module.installed"))+" v"+t(o(e).goodsInfo.version),1)]),_:1})),[[y]]):g("",!0),o(e).goodsInfo.type=="local"&&!h.alreadyInstalled.includes(o(e).goodsInfo.state)?b((d(),m(v,{key:5,disabled:!0,class:"basic-button-item"},{default:i(()=>[f(t(o(n)("module.Local module"))+" v"+t(o(e).goodsInfo.version),1)]),_:1})),[[y]]):g("",!0),o(e).goodsInfo.new_version&&h.updateButton.includes(o(e).goodsInfo.state)?b((d(),m(v,{key:6,onClick:a[4]||(a[4]=l=>U(o(e).goodsInfo.uid,o(e).goodsInfo.purchased)),class:"basic-button-item",type:"success"},{default:i(()=>[f(t(o(n)("module.to update")),1)]),_:1})),[[T,o(e).loading.common],[y]]):g("",!0),h.stateSwitch.includes(o(e).goodsInfo.state)?b((d(),m(v,{key:7,onClick:a[5]||(a[5]=l=>M(o(e).goodsInfo.uid)),class:"basic-button-item",type:"danger"},{default:i(()=>[f(t(o(n)("module.uninstall")),1)]),_:1})),[[T,o(e).loading.common],[y]]):g("",!0)])]),o(mo)(o(e).goodsInfo.developer)?g("",!0):(d(),u("div",Yo,[s("div",Xo,[_(z,{size:60,src:o(e).goodsInfo.developer.avatar},null,8,["src"]),s("div",Zo,[s("h3",Jo,t(o(e).goodsInfo.developer.nickname),1),s("div",Ko,t(o(e).goodsInfo.developer.group?o(e).goodsInfo.developer.group:"-"),1)])]),o(e).goodsInfo.qq?(d(),u("div",oe,[s("h4",ee,t(o(n)("module.Contact developer")),1),s("div",se,[s("a",{rel:"noopener noreferrer",target:"_blank",href:"http://wpa.qq.com/msgrd?v=3&uin="+o(e).goodsInfo.qq+"&site=qq&menu=yes"},[s("span",null,"QQï¼š"+t(o(e).goodsInfo.qq),1)],8,te)])])):g("",!0),s("div",ne,[s("h4",de,t(o(n)("module.Other works of developers")),1),o(e).goodsInfo.developer.goods.length>0?(d(),u("div",le,[(d(!0),u(k,null,w(o(e).goodsInfo.developer.goods,(l,I)=>(d(),u("div",{key:I,onClick:J=>o(so)(l.uid),class:"recommend-goods-item"},[_(L,{fit:"contain",class:"recommend-goods-logo",src:l.logo},null,8,["src"]),s("div",ae,t(l.title),1)],8,ie))),128))])):(d(),u("div",ce,t(o(n)("module.There are no more works")),1))])]))]),s("div",{class:"goods-detail ba-markdown",innerHTML:o(e).goodsInfo.detail_editor},null,8,re),s("div",ue,[s("h1",null,t(o(n)("module.Update Log")),1),o(e).goodsInfo.version_log?(d(),u("div",me,[_(Y,null,{default:i(()=>[(d(!0),u(k,null,w(o(e).goodsInfo.version_log,(l,I)=>(d(),m(Q,{key:I,timestamp:o(C)(l.createtime),placement:"top",color:I==0?"var(--el-color-success)":""},{default:i(()=>[_(j,{class:"version-card",shadow:"hover"},{header:i(()=>[s("div",_e,[s("h2",null,t(l.title),1),s("span",ge,t(l.short_describe),1)])]),default:i(()=>[s("div",{class:"version-detail ba-markdown",innerHTML:l.describe?l.describe:o(n)("module.No detailed update log")},null,8,fe)]),_:2},1024)]),_:2},1032,["timestamp","color"]))),128))]),_:1})])):(d(),u("div",pe,t(p.$t("module.No detailed update log")),1))])]),_:1})),[[T,o(e).loading.goodsInfo]])]),_:1},8,["modelValue","title"]),_(ao),_(co)])}}}),Te=oo(Ie,[["__scopeId","data-v-8266d7d1"]]);export{Te as default};
